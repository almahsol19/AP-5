using System;
using System.Collections.Generic;
using System.Threading.Tasks;

class Program
{
    static async Task Main()
    {
        List<string> history = new List<string>(); 

        while (true)
        {
            Console.Write("Enter a number (0 = RED, 1 = GREEN, 2 = EXIT): ");
            string input = Console.ReadLine();

            if (int.TryParse(input, out int num))
            {
                string status = "";
                switch (num)
                {
                    case 1:
                        status = "LED GREEN (ON)";
                        Console.WriteLine(status);
                        await Task.Delay(2000);
                        break;
                    case 0:
                        status = "CLOSED RED (OFF)";
                        Console.WriteLine(status);
                        await Task.Delay(2000);
                        break;
                    case 2:
                        Console.WriteLine("Exiting program...");
                        Console.WriteLine("\n *** History of Actions ***");
                        foreach (var record in history)
                        {
                            Console.WriteLine(record);
                        }
                        return; 
                    default:
                        status = "Invalid input";
                        Console.WriteLine(status);
                        break;
                }

                history.Add($"{DateTime.Now}: {status}"); 
            }
            else
            {
                Console.WriteLine("Invalid input. Please enter a valid number.");
            }
        }
    }
}
